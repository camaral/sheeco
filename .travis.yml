language: java
jdk:
- oraclejdk8
env:
  global:
  - secure: o9QQ9SrDgUNmkjar5sfDQUZm2ltjEydk9roHe/uB8VlIQ+DFGsrfnU7SzZoqKqRDWoXm480TLD+2eca95P3j5Kr3Ffoyo1hmowLRs2FzBZmVQnmIib6PraFOADqwLgv5y8Bi0o2EEWoRMKjca5ek8an7wrJp4+v/UuYzveG4xIGNpw3L445MMekxgE3PeU4huj/gYE3dXe+xan2X7Gl0qCL6L8oM5T+3eh0QCfxGIxM5nYJNjsd5cnS/J7yFMrBvFfHjjn/hw7qtg0MD5mWr+wvWpAOY15ZG6QejrvNQq9Nd5tm3Iq+dU1jsRA8RhQFAjXiz95J08Z/dx5xY0yOKkXlo2DFi5MKeTxTL1eDvBTv4uevPESHcpGxb/DmA0yEXtK6r74Oaj8HoiupMmNLKRR6HH4vrgvKaZkzT1ATr5ATW6HF/o0yq2wqhlWw5/TcTYUNjwTOyOQwl7O4R0GrGAiX2ChPbwhRXZLkR9j1p//VBS+V2/MzPYH6e3tqi7UWFpI5evDMPXeWaeUjvbFrlKTdaFpSDnDi6K74xqvdTQENK4QmRAAZCfptNSwzrR0i2BDPyBT08TLzEfYwqX5psNN0Y5LGkZ4yDqUypuAEIpKvluTRAWKTk0AWWnzJwX05BW48YfsNKtjHyeuBD/esnzcDKmLLkHQXr7RkhbdO8wd8=
  - # ^^ OSSRH_JIRA_USERNAME
  - secure: QwuVrrIWburUVXdRTAfSm1iGgYAkH0u63hBFppp4ajyoCJxMc9Q+JLCzGmQVxqZf1sIHBMOEik+nZv1nAzlA7J0+MFgOfkk1OoR616xdBAvesvqy0Br8uRG5SHIwdmNyq0omTrnKDjz5/pwjftmjq94oO5FqoUhNOWgvIZya0QuVBY/d7KjfNaQiA1HBsRjNDF+qmRVL/cX3yyt+bF+RAbE3L2Xd8Incw1+VT09+49+fhFMsJWUGftXLIX1jvPG4RW7mbRn5PWKyI5ovuFqJJO5lzOuRoAjyVT4XZPDNNXroZe+1YA39DIkz56ECQcc2JrqVrF54YykVyKRLsVBvk4FdbDtH45kuqAsk6dt8iOAWLPjt74iYWSuyT1/NHGsY92sqD7TihOxw+iyTcuofuzJRNEYEUPOSF7c0xMRTD1J8YILQZeyceNDYNJ0GXdkGchPY1438bGCvommI+uVO1fGjlvz1m0tpjB9Afxzdr6U30+6E/WC8azasDZOK72BVWQqAp0IG+QWrvJaQVrs/peM2Egdpflt9P+TNfizZbX4Lmlmw5Tcpl7eaoSyocuZRg3dBQPKXeBkgyFhaxwZBGF96tEXavrk3cMj25Tyzb2cEsxPgkkbABA/y+Vgg5OTSqkDl0BGTqzWMfT2dYi0sR8WK7JqrnvVPwEIcU4cHu+s=
  - # ^^ OSSRH_JIRA_PASSWORD
  - secure: bvMGEOjtbUuOy64i7zQXi/EZNtC1NIzDQTe7FvO0iGcw4GhSEJhz9XvJBGWRivc6T69yTH+H+0Iz6Llrczt8VPzvr/DuqQ38SNe9ps9p++3gjGPjzHkarlPCUt2wa8+0HkOHncxM/EevADUIW/6mlSSuFDccsxxwPOzymeU1segH+nxcKmiruU+R0QueK4aQGWO3mjaIJR33tB9CZn2lb0nk0M5ArcEtL0dQXYV/Ch+q4fMbonKV7TG4v7L/+JCNHTT5CJ0oea6uKmfGf/IYn6/whF3EcLhOVI+TgjjFt21YQVl66VjGbe2uPl3FQ5btwz8g4OJAE/B1veXouaop3vUvllLJYqQddVzZvULa3XYmi84KNXXbG36toWabzCPbMQ3Avm6JYpC0s8Mb3JeACBtkj/qPEslDk/R0UdDn6Gw9QtikxAt+9+ITH/o8TAEKItxfxtScHjdi8ej/vFnVuooYVyUqSfrWLk4N01WiYN+8WtoDM9VyN/4gCFi/IOMiXnFVHZj2bzdC5Yos4m7YqJFI6jZYfxDDxGXe66R8REjtKisciCpgcGrrFZ9FvmdgBEVZpdqZ/5hUENF9jsaXM/z8Ya0YRT6urnIyXFVLzBPZKi9KZofHMEg3LrRnXmrDO/+vPDahSOzfPoZQaZG5dnWmbEq2sQ96+DxNVCW++Ws=
  - # ^^ GPG_KEY_NAME
  - secure: mupiuu2U3wGwWBxcFuqc3/o/WWjKHzKuCgAv0X/YQ0W6oqPl0EyJtyh/Jcmgs/EeevQ/6QWOdtinYijMeKOUWJhkdW4FuZRDXdRQm3k+4B61o+kyv3lT8j40XmN28QN0LOiyMeMLsZ+6L0CkVvPQfE+uNFxWOmg9DMSoUKzwOvrRUTqD73takTJ1l98yW4d5t9UuPRZPkPeUgJ9838fdQ++YyyXlxYl3FY3SrgzjGQisfAgoIyhov/hAGGV3WL4k+cIAaqoOUCq5YMXHrC4an8mCa1nRMqGjsOuRtyBZ50SCTmEk2ipO8YRDk2WS6LAfN3SqeCVWtPdMCMhgKenp1xmHwmWTZol/tDvY16DwSjK2cXja2zGPPETflG0G8qXBCxcQyR6rM9mkbsCmfBsjGOiESdNi9ehEAfycjqnFeDPtLCuUTBVhkXgnrpxufVsOS7sLy+Gsi9lR2D2XbL5JoYR6JaYE705JVV6X4Ct6BBKb46YkaEvKpNbzP7fBOBUMio6vEYIwc09VpTcDf0/fqrzTgRiKEVMcKrmhXrjOmNVEx0GgjAF8BkFuUZEBUm2l3eWyPozCQ2o3XBx9MOwqSTCntLjH0yVgKUzTiaCxzPciWJdJnCPDxj8zFn3Ybt48FlYdnAS+CNK0oGloIbi8LqdAFW97BtxVUWiiFOTpKXg=
  - # ^^ GPG_PASSPHRASE

install: mvn install -P !build-extras -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn test -P !build-extras -B

cache:
  directories:
    - ~/.m2/repository

#FIXME: Encrypt deployment keys on Linux
#after_success:
#  - ./cd/before-deploy.sh
#  - ./cd/deploy.sh
